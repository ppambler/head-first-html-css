---
typora-copy-images-to: img\01
---



# 连接起来

离开落满灰尘的本地文件系统……前往Web镇，开始我们新的生活……

一旦离开了，或许就不会来了

为什么这么说呢？因为

> Web pages are a dish best served on the Internet. 

Web页面是互联网给我们的最好的一道菜。

## ★发布自己的网站

需要把本地的文件夹映射到服务器上的文件夹，一旦把页面放在服务器上了，那么就得想想该如何指示浏览器访问你的页面！

那么如何把自己的网站发布到Web上呢？

![1543855180478](img/01/1543855180478.png)

找一家托管公司……然后搞点域名……然后想想如何上传到托管公司的服务器上（有很多姿势可以做到）……告诉大家，享受你的成果……

这章你将会学到以后需要知道的一些重要知识，即便此刻的你并不打算让你的网站上线……

总之，来吧，做好准备，从HTML开始我们的Web之旅吧……

## ★选择托管公司

1. 技术支持（Technical support ）：处理你的技术问题，如电话和邮件……
2. 数据传输（Data transfer ）：允许你在一定时间内向访问者发送的页面和数据量，如果你的网站有大量访问者就得注意了
3. 备份（Backups ）：服务器出现硬件故障时能够修复
4. 域名（Domain names）：最好还是自己注册一个
5. 可靠性（Reliability ）：一天24h都在运行
6. 赠品（Goodies ）：Email地址、论坛、脚本语言支持……

## ★如何得到域名？

![1543856877944](img/01/1543856877944.png)

域名是`baidu.com`（domain name ）。而`www.baidu.com`则是网站名（website nam ）

购买域名就像买了一块地 `ppambler.cn` ，然后在这块地上就可以建很多网站了，如 `blog.ppambler.cn`、 `music.ppambler.cn`……

最好不要使用托管公司提供的域名，因为托管公司破产的话，那么这个域名就无法使用了，那么那些访问 你网站的人就不没办法找到你的网站了。而购买域名则可以随意选择新的托管公司……用户根本就不需要知道托管公司是不是原先那个！

域名是独一无二的……所以你想注册的域名很有可能已经被人注册了，不过，不用担心，提供域名注册的公司都允许你搜索一个域名是否被占用了，就像是搜索一个未用的车牌一样……

## ★Moving in（搬家）

从一个地方搬到另外一个地方去，把本地的根目录搬到Web服务器的根目录下！

![1543888630356](img/01/1543888630356.png)

### ◇没有蠢问题

![1543888747145](img/01/1543888747145.png)

根文件夹的概念很重要，尤其是在Web服务器上！因为根文件夹的内容可以从网上访问到！

关于Web服务器上的root文件夹命名，随意，只要你能找到这个root文件夹就好了！不需要一定非得与本地的root文件夹名字一样……

确定好Web服务器上你的root文件夹，那么你就copy本地root文件夹下所有的文件到这个目标root文件夹即可！

### ◇如何搬家呢？

我们知道了往哪里搬，可是如何搬呢？是自己使出吃奶的劲搬？还是雇一辆车来搬？还是……？

可见这是有很多办法的！

我们想把文件传送到Web服务器中，可以使用一种叫做FTP（File Transfer Protocol ）的文件传输方法

这种方法对于大多数hosting companies 来说，这肯定是支持的！

关于这个FTP，它是文件传输协议，也就是说我们实现本地与服务器的通信是要遵循这个协议才能进行的，突然有个疑问——协议是算法吗？

以下是我个人的看法，**✎：**

> 首先我们这里的[协议](https://www.wikiwand.com/zh-hans/%E5%8D%8F%E8%AE%AE)指的是网络传输协议
>
> 协议，即一套信息传播的标准，也可以说是设备之间通信的语言，即你要会这样的语言，才能实现通信，不然通个屁的信……
>
> 而FTP是应用层的协议，一般来说我们会按TCP/IP协议族来划分四层来完成我们的通信，每一层的职责都不一样，但最终的目的都是一样的——即更好、更快、更安全、更准确的等等来完成终端之间的通信
>
> 那么协议是算法吗？
>
> 我给你2台计算机，你说说如何让它们完成收发数据……
>
> 额，这个，首先你得这样做，然后这样，最后这样，……搞定
>
> 可是完成这个过程是基于网络传输协议的吧！
>
> 所以我认为协议是实现算法的蓝图，但它是算法吗？我认为这是维度不一样的算法
>
> 总之，没有协议，你并不能很好地完成协议，即这是「废柴」通信

我找了一下答案，**✎：**

**➹：**[【小课堂】算法和协议不是一回事！区别很重要！](https://www.yaofache.com/columns/detail/d4351808badc4f18abd83c64ff4dac0b)

协议的关键词是 `is`，而算法的则是 `do`

按照我的理解就是算法是逻辑，既然是逻辑，那么它就需要合理地组织知识点，用于解决问题！

而协议就是一个个知识点了！

如橄榄油是美味的就是协议，而算法则是，做菜前，先烧热锅，蒸发那些水分，然后倒入橄榄油……

总之，算法需要协议才能变得更好……

---

哈哈![img](img/01/15277E61.png)……看来我的看法很有问题！不过，没关系，因为唯有这样我才会继续向前迈进……

#### 我们要做的事

![1543892872129](img/01/1543892872129.png)

#### FTP

如何使用FTP将文件上传到Web？

一般托管公司都会告知你如何做的！

不过还是简单来说一下吧，**✎：**

如果你已经找到了一个FTP应用（可能是命令行应用，也可能是具有完备的图形界面），对了，有一些开发工具是内置了FTP应用的，像我了解到的，vscode就内置了git……

言归正传，还是简要说明一下FTP是如何工作的，**✎：**

![1543905987586](img/01/1543905987586.png)

![1543906014201](img/01/1543906014201.png)

![1543906032753](img/01/1543906032753.png)

翻译过来就是，**✎：**

1. 使用FTP连接到你的服务器，就像是我们使用Git提交到远程仓库一样，当然我们用的是[SSH协议](http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html)
2. cd命令切换目录到服务器的root目录
3. put命令把文件上传
4. mkdir创建一个新目录
5. get获取文件

具体用于实践来看的话，**✎：**

![1543906736658](img/01/1543906736658.png)

突然觉得这就如发http请求一样，一般拿到数据就发get请求，提交数据如表单什么的，就用put请求……

#### 没有蠢问题

![1543907086087](img/01/1543907086087.png)

#### 流行的FTP应用

![1543907185183](img/01/1543907185183.png)

ps：http://cyberduck.ch/

有 `$`即是要给钱……

#### 小结

1. 知道root目录在托管公司服务器上的位置
2. 如何上传，找到一个最佳方法
3. 把本地的文件上传

![1543907343488](img/01/1543907343488.png)

## ★回到主题

如何让浏览器获取（retrieve？检索？）在互联网上的那些页面？然后再展示到我们面前……

首先你得type一个正确的地址（address）到你的浏览器中的地址栏里！

> 在浏览器中输入地址，然后回车就能看到内容……你说这是不是一个协议？

![1543977192032](img/01/1543977192032.png)

Web页面的地址都以http开头，稍后（in a sec）会讨论http是什么……

有了网站名（包含着IP地址），加上默认的80端口，知道是我们的站点开放的80端口，然后就可以在浏览器中访问我们的站点了

没有想到root文件夹竟然是用一个 `/`来表示的！

### ◇URL（统一资源定位符）

你知道的我们在浏览器中输入的Web地址叫做URL，即统一资源定位符（Uniform Resource Locators ）

当然，我们私下都喜欢叫它为「Web地址」……

不过，似乎有些人不太认同哦！那好吧，就官方一点好了，就叫它URL

插个题外话：

> 关于URL，其实还有个叫URI的家伙，它们的关系就像是URI是三角形，而URL则是等边三角形
>
> 你可以把URL叫做URI，这是允许的，不过不太好！因为我们确实是通过定位找到的资源，如xx国xxx省的xxxx市的zzz区的小蛮腰……
>
> 而URI则是很直接的就能这个资源了，即让每个资源都有属于自己的一个id，就像我们每个人都有一个身份证一样……可见，URI是个耿直boy
>
> 总之，URL是苹果，URI则是水果，前者强调L（Locators）、而后者则是I（Identifier）
>
> **➹：**[HTTP 协议中 URI 和 URL 有什么区别？ - 知乎](https://www.zhihu.com/question/21950864)

#### 剖析一个URL

![1543987417075](img/01/1543987417075.png)

说到协议，那么我们的浏览器肯定得与服务器通信了……想了想，似乎可以把协议当作是常识，如第一次见面时，两人的交流，肯定先用普通话测试一下吧！总之双方能听懂就好了！

> 似乎谈到协议，就离不开双方的吹牛逼……

总之，要定位Web上的任何资源，只要你知道维护这个资源的服务器，以及资源的绝对路径，就可以创建一个URL。接下来就可以让浏览器使用某种协议(通常是HTTP)来检索这个资源了！

#### 归纳一下URL到底是什么

![1543989214253](img/01/1543989214253.png)

统一资源定位符，是一个全局地址，可以用来定位Web上的任何资源，包括HTML页面、音视频和很多其它形式的Web内容！

除了指定资源的位置，URL还可以指定用来检索（retrieve？到底是获取的翻译好还是检索的好呢？因为检索是有脑子的拿，而获取是直接拿，不管你给啥）资源的协议

> 关于对全局地址的理解，你知道在Web上有各种资源，而整个Web就是各种资源的全局空间了，对于检索资源的URL来说，它是作用于整个Web的，即全局的任何资源的！
>
> 联想到JavaScript的话，可以把Web看作是一个window，总之这是各种资源、各种变量生存的空间……
>
> 而在JavaScript中，常常把定义在函数外的变量称为**全局变量**；而在函数内声明的变量称为**局部变量**。
>
> 回到全局地址，即这个地址无乱是全局的资源还是所谓的「局部」资源，都可以被URL定位到，即被检索到……
>
> **➹：**[JavaScript学习笔记： 局部变量和全局变量_JavaScript, JavaScript学习笔记, 变量 教程-w3cplus](https://www.w3cplus.com/javascript/the-basics-of-variable-scope-in-javascript.html)

总之，欢迎你访问这个网站，**✎：**

![1543991165932](img/01/1543991165932.png)

### ◇什么是HTTP？

HTTP也称为超文本传输协议（HyperText Transfer Protocol）。换句话说，这是在Web上传输超文本文档的公认的一种方法（协议）。尽管“超文本文档”通常只是指HTML页面，但这个协议实际上还可以用来传输图像或Web页面可能需要的任何其他文件。

总之HTTP是一个简单的请求和响应协议。

那么它是如何工作的呢？

![1543995457038](img/01/1543995457038.png)

每次在浏览器的地址栏中输入一个URL时，浏览器就会使用HTTP协议向服务器请求相应的资源。如果服务器找到这个资源，就会把它返回给浏览器，由浏览器显示。如果服务器找不到呢？

![1543995636533](img/01/1543995636533.png)

如果无法找到资源，则服务器会向浏览器报告我们熟悉的“404错误”。

### ◇什么是绝对路径？

> 文件的绝对路径……

之前我们所讲的路径是编写HTML时用a元素建立链接时所用的相对路径……

现在我们要说的「路径」是URL中的绝对路径部分……即协议+网站名之后的最后一部分 

绝地路径告诉服务器如何从你的root目录到达某个特定的页面或文件。

总之就是你得从root目录开始追踪文件夹，直到找到资源文件所在的文件夹。而这个路径就是由沿途经过的所有文件夹组成……

所以这看起来就像是，**✎：**

![1543996687580](img/01/1543996687580.png)

总是从root `/` 开始，然后加上导航到文件所经过的每一个文件夹，而文件夹名之间用 `/`来分割，最后添加文件名即可！注意文件名和文件夹名之间还有一个 `/`，或者说是文件名总是有个 `/`用于区分文件，**✎：**

![1543997069672](img/01/1543997069672.png)

> 我突然想起以前学习的时候，在写img元素src属性值和a元素的href属性值的时候，总是写相对路径，那是就是记住了 `../`开头的或者是 `./`开头的都是相对路径姿势去找寻资源，而只有一个 `/`开头则是以绝对路径，即从root目录下开始找寻资源……

#### 没有蠢问题

![1543997358293](img/01/1543997358293.png)

---

![1543997548661](img/01/1543997548661.png)

从中收获到的，**✎：**

1. 服务器就是根据绝对路径来找到你所请求的文件

   > 不过后台可是有个后端路由的概念，其实本质上来说，这个绝对路径并不代表这一定是一个资源所处的本地路径哈！
   >
   > 因为我们后端需要做路由判断，然后根据判断的结果，才会在本地找到响应的资源返回给你。
   >
   > 总之你的URL要告知的资源是个CSS文件，我们也可以响应回一个JavaScript文件给你……
   >
   > 也就说，这个URL（我们一般也叫后端所提供的API接口）是由后端与前端一起协议好的，而这个URL，即这个API是restful风格的API
   >
   > **➹：**[怎样用通俗的语言解释REST，以及RESTful？ - 知乎](https://www.zhihu.com/question/28557115)

2. 一个URL蕴含了很多信息，没有半点废话……

3. 对website是由server name 和 domain name组成的理解，server name 更像是一个网站的用途标签，如，写博客的`blog.domain.com`、听音乐的`music.domain.com`、发邮件的 `mail.domain.com`

4. 服务器只能按绝对路径的那一套来找资源，为什么我们可以写相对路径？

   因为浏览器的后台做了处理，即偷龙转凤，换句话说就是对相对路径做了格式化处理，把相对的转换为绝对的！总之服务器所处理的URL都是绝对路径的！

   不过怎样，我们前端开发人员是可以使用相对路径来定位资源的……

   ![1544010205015](img/01/1544010205015.png)

#### 练习

![1543999331767](img/01/1543999331767.png)

### ◇更简单的URL

我想只输入 `http://www.starbuzzcoffee.com`就可以拿到index.html，不知，可以不？

这是可以的，如果我们请求的不是文件，而是目录，你猜会发生什么？

对了。有一点忘记提醒你了，**✎：**

> 我们讨论web服务器或者FTP时，通常会使用「目录（directory ）」而不是「文件夹（folder ）」，当然，它们是一样的意思

![1544009466653](img/01/1544009466653.png)

Web服务器接收到一个类似这样的请求时，它会尝试查找这个目录中的一个默认文件。通常默认文件名为
“index.html”或“default.htm”，如果服务器找到这样一个文件，就会把它返回给浏览器显示。

所以，要从根目录（或任何其他目录）默认地返回一个文件，只需要把这个文件命名为“index.html”
或“default.htm”。

> 不过你要了解你的托管公司希望你如何命名默认文件，因为这取决于他们使用哪种类型的服务器。

我们要请求的是 `http://www.starbuzzcoffee.com`，不过它末尾可是没有 `/`的！

![1544010006284](img/01/1544010006284.png)

如果服务器接收到了这样一个末尾没有 `/`的请求，并且这个目录确实存在，那么**服务器**就会帮你加上末尾的斜线

所以如果服务器接收到了以下请求，**✎：**

![1544010373969](img/01/1544010373969.png)

这会让服务器查找一个默认文件，最后会返回这个文件，就好像你之前输入了以下地址：

![1544010430011](img/01/1544010430011.png)

> 讲真，不需要Web服务器软件就可以做到吗？

#### 默认页面是如何工作的？

请说出幕后的故事吧！

![1544011631074](img/01/1544011631074.png)

预备，Action……

![1544011584731](img/01/1544011584731.png)

1. 用户在浏览器中输入一个目录
2. HTTP请求：「我能得到文件`/drinks/`吗？ 」
3. 服务器说：「哥，这看上去就像是个目录，话又说回来，这个目录里有默认文件吗？」

4. 服务器在drinks目录中找到了一个叫「index.html」的默认文件！
5. HTTP响应：「你在请求一个目录，不过我发现该目录有个index.html，所以我就把这个文件发给你了……你爱要不要！」

#### 没有蠢问题

![1544012413582](img/01/1544012413582.png)

---

![1544012426960](img/01/1544012426960.png)

从中可以看出，我们发的请求最好不要加上index.html……









---

## ★总结

- 我们想要在Web上获取一个资源，那么你得知道资源的位置才行，我们通过ip地址（准确来说是MAC地址），确定维护资源的服务器，通过端口号确定web服务器软件所监听的端口，然后以root路径为起点开始向下检索资源，资源知找到了就通过web服务器软件响应回客户端，那么客户端和服务端是如何通信的呢？是基于http（or https）等协议来完成通信的……
- 浏览器会把相对路径改为绝对路径，如果url没有 `/`这个根目录，服务器会自动帮你加上，然后再返回默认的文件来！

## ★Q&A

### ①域名解析？

**➹：**[A记录与Cname - 简书](https://www.jianshu.com/p/e1ad4b96f727)

### ②什么是服务器？

**➹：**[服务器 - Wikiwand](https://www.wikiwand.com/zh-hans/%E6%9C%8D%E5%8A%A1%E5%99%A8)



